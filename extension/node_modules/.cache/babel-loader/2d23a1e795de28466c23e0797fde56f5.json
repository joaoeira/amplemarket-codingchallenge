{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from './Main/Main';\nvar wrapper = document.createElement('div');\nwrapper.id = 'extension-wrapper';\ndocument.body.appendChild(wrapper);\n\nfunction main() {\n  return _main.apply(this, arguments);\n}\n\nfunction _main() {\n  _main = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var sdk;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return InboxSDK.load(2, 'sdk_gmailSnippet_74536b3008');\n\n          case 2:\n            sdk = _context.sent;\n            sdk.Compose.registerComposeViewHandler(function ComposeViewRegister(composeView) {\n              if (sdk.User.getEmailAddress().includes('@gmail.com')) {\n                composeView.addButton({\n                  title: 'My Nifty Button!',\n                  iconUrl: 'https://lh3.googleusercontent.com/AEOBTuMlfOrUtW6ATvrQBtvO1LFMX2ZLqV8XAOXDc6yYQk0iLJBXJy_tB5xOve3_B2QlzUkcG5oQwAD6Mqg2O48n=w128-h128-e365-rj-sc0x00ffffff',\n                  onClick: function onClick(sdkEvent) {\n                    ReactDOM.render( /*#__PURE__*/React.createElement(Main, {\n                      sdk: sdk,\n                      sdkEvent: sdkEvent\n                    }), document.getElementById('extension-wrapper'));\n                  }\n                });\n                composeView.on('destroy', function ComposeViewDestroy(event) {\n                  ReactDOM.unmountComponentAtNode(document.getElementById('extension-wrapper'));\n                });\n              }\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _main.apply(this, arguments);\n}\n\nmain().then(function (res) {\n  return console.log(res);\n}, function (err) {\n  return console.log(err);\n});","map":{"version":3,"sources":["/home/joaoeira/Documents/amplemarket-gmailExtension/extension/src/js/plugin.js"],"names":["React","ReactDOM","Main","wrapper","document","createElement","id","body","appendChild","main","InboxSDK","load","sdk","Compose","registerComposeViewHandler","ComposeViewRegister","composeView","User","getEmailAddress","includes","addButton","title","iconUrl","onClick","sdkEvent","render","getElementById","on","ComposeViewDestroy","event","unmountComponentAtNode","then","res","console","log","err"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,IAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACAF,OAAO,CAACG,EAAR,GAAa,mBAAb;AACAF,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BL,OAA1B;;SAEeM,I;;;;;mEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACsBC,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiB,6BAAjB,CADtB;;AAAA;AACUC,YAAAA,GADV;AAEIA,YAAAA,GAAG,CAACC,OAAJ,CAAYC,0BAAZ,CAAuC,SAASC,mBAAT,CACnCC,WADmC,EAErC;AACE,kBAAIJ,GAAG,CAACK,IAAJ,CAASC,eAAT,GAA2BC,QAA3B,CAAoC,YAApC,CAAJ,EAAuD;AACnDH,gBAAAA,WAAW,CAACI,SAAZ,CAAsB;AAClBC,kBAAAA,KAAK,EAAE,kBADW;AAElBC,kBAAAA,OAAO,EACH,2JAHc;AAIlBC,kBAAAA,OAAO,EAAE,iBAAUC,QAAV,EAAoB;AACzBvB,oBAAAA,QAAQ,CAACwB,MAAT,eACI,oBAAC,IAAD;AAAM,sBAAA,GAAG,EAAEb,GAAX;AAAgB,sBAAA,QAAQ,EAAEY;AAA1B,sBADJ,EAEIpB,QAAQ,CAACsB,cAAT,CAAwB,mBAAxB,CAFJ;AAIH;AATiB,iBAAtB;AAWAV,gBAAAA,WAAW,CAACW,EAAZ,CAAe,SAAf,EAA0B,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AACzD5B,kBAAAA,QAAQ,CAAC6B,sBAAT,CACI1B,QAAQ,CAACsB,cAAT,CAAwB,mBAAxB,CADJ;AAGH,iBAJD;AAKH;AACJ,aArBD;;AAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAyBAjB,IAAI,GAAGsB,IAAP,CACI,UAACC,GAAD;AAAA,SAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT;AAAA,CADJ,EAEI,UAACG,GAAD;AAAA,SAASF,OAAO,CAACC,GAAR,CAAYC,GAAZ,CAAT;AAAA,CAFJ","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Main from './Main/Main'\n\nconst wrapper = document.createElement('div')\nwrapper.id = 'extension-wrapper'\ndocument.body.appendChild(wrapper)\n\nasync function main() {\n    const sdk = await InboxSDK.load(2, 'sdk_gmailSnippet_74536b3008')\n    sdk.Compose.registerComposeViewHandler(function ComposeViewRegister(\n        composeView\n    ) {\n        if (sdk.User.getEmailAddress().includes('@gmail.com')) {\n            composeView.addButton({\n                title: 'My Nifty Button!',\n                iconUrl:\n                    'https://lh3.googleusercontent.com/AEOBTuMlfOrUtW6ATvrQBtvO1LFMX2ZLqV8XAOXDc6yYQk0iLJBXJy_tB5xOve3_B2QlzUkcG5oQwAD6Mqg2O48n=w128-h128-e365-rj-sc0x00ffffff',\n                onClick: function (sdkEvent) {\n                    ReactDOM.render(\n                        <Main sdk={sdk} sdkEvent={sdkEvent} />,\n                        document.getElementById('extension-wrapper')\n                    )\n                },\n            })\n            composeView.on('destroy', function ComposeViewDestroy(event) {\n                ReactDOM.unmountComponentAtNode(\n                    document.getElementById('extension-wrapper')\n                )\n            })\n        }\n    })\n}\nmain().then(\n    (res) => console.log(res),\n    (err) => console.log(err)\n)\n"]},"metadata":{},"sourceType":"module"}